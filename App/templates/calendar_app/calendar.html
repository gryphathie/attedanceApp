{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/calendar.css' %}">

<body class="bg-gradient-dark">

    <div class="container-fluid">

    {% if messages %}
      <ul>
        {% for message in messages %}
        <div class="alert {{ message.tags }} mt-4 mb-2" role="alert">
            <strong>{{ message }}</strong>
        </div>
        {% endfor %}
      </ul>
      {% endif %}

        <!-- Outer Row -->
        <div class="row justify-content-center">
            
            <div class="col-xl-10 col-lg-12 col-md-9">                                                       
                <!-- Tabla -->
                <div class="card o-hidden border-left-indigo shadow-lg my-5">
                    <div class="card-header text-center">
                        <div class="clearfix">   
                            <div class="row">
                                <div class="col-2 d-flex justify-content-start">
                                    <a class="btn btn-info right ml-2" href="{% url 'calendar_view' %}?{{ prev_month }}"> << Prev </a>
                                </div>                                                     
                                <div class="col-8">
                                    <h1 class="h4 text-primary">Calendar</h1>                                    
                                </div>
                                <div class="col-2 d-flex justify-content-end">
                                    <a class="btn btn-info right mr-2" href="{% url 'calendar_view' %}?{{ next_month }} "> Next >> </a>
                                </div>
                            </div>                            
                        </div>
                    </div>
                    <div class="card-body p-0 py-4">
                        <div class="row">                            
                            <div class="col-3 ml-5 text-center">
                                <p class="bfs">BFS</p>
                            </div>
                            <div class="col-3 text-center">
                                <p class="devs  text-white">DEVS</p>
                            </div>
                            <div class="col-3 text-center">
                                <p class="optional">Optional</p>
                            </div>
                            <div class="col-2 text-center">
                                <p class="all">All</p>
                            </div>
                        </div>
                        <form method="POST">
                            <div class="calendar">
                                {% csrf_token %}
                                {{calendar}}
                                
                                <div class="row mt-4">
                                    <div class="col-5">                                        
                                    </div>
                                    <div class="col-5">
                                        {% if events_exists %}
                                        <button type="submit" class="btn btn-danger" name="reset_calendar">Reset Calendar</button>
                                        {% else %}
                                        <button type="submit" class="btn btn-success" name="save_changes">Save Changes</button>
                                        {% endif %}
                                    </div>
                                    <div class="col-2">                                        
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>     
            </div>                                               
        </div>
    </div>
</body>

{% endblock %}